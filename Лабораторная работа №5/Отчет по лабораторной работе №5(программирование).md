<p align="center">  МИНИСТЕРСТВО НАУКИ И ВЫСШЕГО ОБРАЗОВАНИЯ РОССИЙСКОЙСКОЙ ФЕДЕРАЦИИ<br/>
Федеральное государственное автономное образовательное учреждение высшего образования
 <br/>
 "КРЫМСКИЙ ФЕДЕРАЛЬНЫЙ УНИВЕРСИТЕТ им. В. И. ВЕРНАДСКОГО"  <br/>
  ФИЗИКО-ТЕХНИЧЕСКИЙ ИНСТИТУТ <br/>
    Кафедра компьютерной инженерии и моделирования<br/></p>

<br/>

### <p align="center">Отчёт по лабораторной работе №5 <br/> по дисциплине "Программирование"</p>

<br/>

студента 1 курса группы ИВТ-б-о-191-1
Мусаелян Арины <br/>
направления подготовки 09.03.01 "Информатика и вычислительная техника"  

<table>
<tr><td>Научный руководитель<br/> старший преподаватель кафедры<br/> компьютерной инженерии и моделирования</td>
<td>(оценка)</td>
<td>Чабанов В.В.</td>
</tr>
</table>


<br/>

<p align="center">Симферополь, 2020</p>

**Цель работы:** научиться работать с текстовыми файлами; закрепить навыки работы со структурами.

​                                                                            **Ход работы**

**1.** Из указанного преподавателем репозитория из папки **data** скачать файл **train.csv**;

**2.** На основании файла **data_dictionary.txt** создать структуру для чтения записей из файла **train.csv**;

**3.** Рассчитайте и сохраните в новый файл следующие характеристики (если нужные данные не указаны, игнорируйте пассажира):

1. Общее число выживших;

2. Число выживших из 1 класса;

3. Число выживших из 2 класса;

4. Число выживших из 3 класса;

5. Количество выживших женщин;

6. Количество выживших мужчин;

7. Средний возраст пассажира/женский/мужской;

8. Штат, в котором село больше всего пассажиров;

9. Список идентификаторов несовершеннолетних (младше 18) пассажиров, через запятую;

   **Код программы**:

   ```c++
   #include <iostream>
   #include <cstdlib>
   #include <string>
   #include <fstream>
   #include <vector>
   using namespace std;
   //ПИШИ КОММЕНТАРИИ, ЧТОБЫ НЕ ЗАБЫТЬ, ЧТО ТВОРИЛА!!!!
   
   struct FLIGHT
   {
   	int p_id;                //*passenger ID
   	bool survival = false;   //*Survived(0=No, 1=Yes
   	int p_class ;            //*1-1st, 2-nd,3-rd    
   	string name;             //*Name	
   	string sex ;             // Пол(male, female)
   	short age ;              //*Age
   	short sibsp;             //*Number of siblings/spouses abroad
   	short par_child;         //*Number of parents/children abroad  
   	string tickets ;         // *Number of tickets
   	double fare;             //*Passenger Fare(cтоимость проезда)
   	string cabin ;           //*Cabin
   	string embarked ;        //*Port of Embarhation (C=Cherbourg; Q=Qeenstown; S=Southampton  
   };
   
   FLIGHT help(string str)
   {
   	FLIGHT f;
   	string temp[13];
   	int i = 0;
   	for (int j = 0; j < 13; j++)
   	{
   		while (str[i] != ',' && str[i] != '\0')
   		{
   			temp[j] += str[i];
   			i++;
   		}
   		i++;
   	}
   
   	f.p_id = atoi(temp[0].c_str());
   	f.survival = atoi(temp[1].c_str());
   	f.p_class = atoi(temp[2].c_str());
   	f.name = temp[3] + " " + temp[4];
   	f.sex = temp[5];
   	f.age = atoi(temp[6].c_str());
   	f.sibsp = atoi(temp[7].c_str());
   	f.par_child = atoi(temp[8].c_str());
   	f.tickets = temp[9];
   	f.fare = atof(temp[10].c_str());
   	f.cabin = temp[10];
   	f.embarked = temp[12];
   	return f;
   
   }
   
   int main()
   {//считывание данных из файла в вектор
   	ifstream fin("train.csv");
   	vector <string> temp;
   	string str;
   	while (getline(fin, str, '\r'))
   	{
   		if (str.size() > 0)
   			temp.push_back(str);
   	}
   	fin.close();
   
   	int all_alive = 0;
   	int alive_1class = 0;
   	int alive_2class = 0;
   	int alive_3class = 0;
   	int alive_w = 0;//женщины
   	int alive_m = 0;//мужчины
   	double all_middle_age = 0.0;
   	double count_w = 0.0, count_m = 0.0;
   	int C = 0, Q = 0, S = 0;
   	
   	vector<int> flight;
   	for (int i = 1; i < temp.size(); i++)
   	{
   		FLIGHT a = help(temp[i]);
   		if (a.survival == 1)
   		{
   			all_alive++;//подсчет общего кол-ва выживших
   			if (a.sex == "male")
   			{
   				alive_m++;//выжившие мужчины
   			}
   			else alive_w++;//выжившие женщины
   	
   			switch (a.p_class)//классы
   			{
   			case 1:
   				alive_1class++;
   				break;
   			case 2:
   				alive_2class++;
   				break;
   			case 3:
   				alive_3class++;
   				break;
   	
   			}
   		}
   	
   		if (a.age < 18)//пассажиры моложе 18
   		{
   			flight.push_back(a.p_id);
   		}
          
   		if (a.embarked == "C") C++;
   		if (a.embarked == "Q") Q++;
   		if (a.embarked == "S") S++;
           
   	//выжившие (муж/жен по возрасту)
   		if (a.sex == "male")
   		{
   			alive_m++;
   			count_m += a.age;
   		}
   		else
   			alive_w++;
   		count_w += a.age;
   		all_middle_age += a.age;
   	
   	}
   	
       //Порты
   	string embarked;
   	if (C > S)
   	{
   		if (C > Q)
   		{
   			embarked = "Cherbourgh";
   		}
   		else embarked = "Qeenstown";;
   	}
   	else
   	{
   		if (S > Q) embarked = "Southampton";
   		else embarked = "Qeenstown";
   	}
       //Вывод
   	ofstream fout("Result.txt");
   	fout << "Общее число выживших:" << all_alive << endl;
   	fout << "Число выживших из первого класса: " << alive_1class << endl;
   	fout << "Число выживших из второго класса: " << alive_2class << endl;
   	fout << "Число выживших из третьего класса: " << alive_3class << endl;
   	fout << "Количество выживших женщин: " << alive_w << endl;
   	fout << "Количество выживших мужчин:  " << alive_m << endl;
   	fout << "Средний возраст пассажиров: " << all_middle_age / temp.size() << endl;
   	fout << "Средний женский возраст: " << count_w / alive_w << endl;;
   	fout << "Средний мужской возраст: " << count_m / alive_m << endl;
   	fout << "Штат, в котором село больше всего пассажиров: " << embarked << endl;
   	fout << "Список индентификации несовершеннолетних(<18 лет) пассажиров: ";
   	for (int i = 0; i < flight.size(); i++)
   	{
   		if (i == flight.size() - 1)
   		{
   			fout << flight[i] << ".";
   			fout.close();
   			return 0;
   		}
   		fout << flight[i] << ",";
   	}
   
   }
   ```

Ссылка на файл с результатами расчета: ![](https://github.com/musaelyan-arina/LabWorks/blob/master/Лабораторная%20работа%20№5/Result.txt)



Рассчитанные характеристики:

| Характеристика                                               | Расчет                                                       |
| :----------------------------------------------------------- | ------------------------------------------------------------ |
| Общее число выживших:                                        | 342                                                          |
| Число выживших из первого класса                             | 136                                                          |
| Число выживших из второго класса:                            | 87                                                           |
| Число выживших из третьего класса                            | 119                                                          |
| Количество выживших женщин:                                  | 547                                                          |
| Количество выживших мужчин:                                  | 686                                                          |
| Средний возраст пассажиров:                                  | 23.7567                                                      |
| Средний женский возраст:                                     | 38.7404                                                      |
| Средний мужской возраст:                                     | 20.2741                                                      |
| Штат, в котором село больше всего пассажиров:                | Southampton                                                  |
| **Cписок индентификации несовершеннолетних(<18 лет) пассажиров:** | 6,8,10,11,15,17,18,20,23,25,27,29,30,32,33,37,40,43,44,46,47,48,49,51,56,59,60,64,65,66,69,72,77,78,79,83,85,87,88,96,102,108,110,112,115,120,122,126,127,129,139,141,148,155,157,159,160,164,165,166,167,169,172,173,177,181,182,183,184,185,186,187,194,197,199,202,206,209,215,221,224,230,234,236,238,241,242,251,257,261,262,265,267,271,275,278,279,283,285,296,298,299,301,302,304,305,306,307,308,325,330,331,334,335,336,341,348,349,352,353,355,359,360,365,368,369,375,376,382,385,387,389,390,408,410,411,412,414,416,420,421,426,429,432,434,436,445,446,447,449,452,455,458,460,465,467,469,470,471,476,480,481,482,486,490,491,496,498,501,503,505,508,512,518,523,525,528,531,532,533,534,536,539,542,543,548,550,551,553,558,561,564,565,569,574,575,579,585,590,594,597,599,602,603,612,613,614,619,630,634,635,640,643,644,645,649,651,654,657,668,670,675,681,684,687,690,692,693,698,710,712,719,721,722,728,732,733,739,740,741,747,751,752,756,761,765,767,769,774,777,778,779,781,782,784,788,789,791,792,793,794,803,804,814,816,820,825,826,827,828,829,831,832,833,838,840,842,845,847,850,851,853,854,860,864,869,870,876,879,889. |

**Вывод:** В ходе лабораторной работы я научилась работать с текстовыми файлами и закрепила навыки работы со структурами.

